<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>라이트박스</title>
    <link rel="stylesheet" href="css/lightbox.css">
  </head>
  <body>
    <div class="row">
      <!-- 썸네일 이미지 -->
      <ul>
        <li><img src="images/tree-1-thumb.jpg" data-src="images/tree-1.jpg" class="pic"></li>
        <li><img src="images/tree-2-thumb.jpg" data-src="images/tree-2.jpg" class="pic"></li>
        <li><img src="images/tree-3-thumb.jpg" data-src="images/tree-3.jpg" class="pic"></li> 
        <li><img src="images/tree-4-thumb.jpg" data-src="images/tree-4.jpg" class="pic"></li>
        <li><img src="images/tree-5-thumb.jpg" data-src="images/tree-5.jpg" class="pic"></li>
        <li><img src="images/tree-6-thumb.jpg" data-src="images/tree-6.jpg" class="pic"></li>          
      </ul>    
    </div>
    <!-- 라이트 박스 -->
    <div id="lightbox">
			<img src="images/tree-1.jpg" alt="" id="lightboxImage">			
    </div>
    <script>
      let pics = document.querySelectorAll('.pic');
      let lightbox = document.querySelector('#lightbox');
      let lightboxImage = document.querySelector('#lightboxImage');

      for (let i = 0; i < pics.length; i++){
        pics[i].addEventListener("click", showLightbox);  // 각 썸네일 이미지에 이벤트 추가, 클릭 시 showLightbox 호출
      }

      function showLightbox(){
        /* let bigLocation = this.data-src; */

        /* 수정 내용: 'data-속성이름'은 getAttribute를 사용해야 함 */
        let bigLocation = this.getAttribute('data-src');  // this는 pics[i] 요소임, data-src는 원본 이미지 경로임
        lightboxImage.src = bigLocation;                  // lightboxImage 경로에 data-src 이미지 경로 저장
        lightbox.style.display = 'block';                 // 라이트 박스 이미지를 화면에 표시
      }

      /* lightbox.onclick = function(){                      // lightbox를 클릭하면 동작하는 함수
        lightbox.style.display = "none";                  // 라이트 박스 숨김
      } */

      // 라이트 박스 바깥을 클릭해야만 이미지가 닫히도록 수정
      lightbox.addEventListener("click",(event)=>{
        if(event.target !== lightboxImage){               //event.target은 사용자가 클릭한 요소
          lightbox.style.display = "none";
        }
      })



    </script>
  </body>
</html>